<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>node笔记 | littleSix的学习笔记</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/logo.jpg">
    <meta name="description" content="好好学习 天天向上">
    
    <link rel="preload" href="/assets/css/0.styles.6e91ce7d.css" as="style"><link rel="preload" href="/assets/js/app.7aac3663.js" as="script"><link rel="preload" href="/assets/js/3.26a17733.js" as="script"><link rel="preload" href="/assets/js/1.9d415b4e.js" as="script"><link rel="preload" href="/assets/js/17.599c5555.js" as="script"><link rel="prefetch" href="/assets/js/10.7b723235.js"><link rel="prefetch" href="/assets/js/11.9c60097f.js"><link rel="prefetch" href="/assets/js/12.c127c1ce.js"><link rel="prefetch" href="/assets/js/13.22dd8e2b.js"><link rel="prefetch" href="/assets/js/14.7b5b8ef5.js"><link rel="prefetch" href="/assets/js/15.987e34b9.js"><link rel="prefetch" href="/assets/js/16.2df7c2e4.js"><link rel="prefetch" href="/assets/js/18.64e0be10.js"><link rel="prefetch" href="/assets/js/19.11144b78.js"><link rel="prefetch" href="/assets/js/20.b28aafa6.js"><link rel="prefetch" href="/assets/js/21.f41bb755.js"><link rel="prefetch" href="/assets/js/22.07b7147b.js"><link rel="prefetch" href="/assets/js/23.fbd87e42.js"><link rel="prefetch" href="/assets/js/24.4266eb16.js"><link rel="prefetch" href="/assets/js/4.431dbf7c.js"><link rel="prefetch" href="/assets/js/5.86d3f066.js"><link rel="prefetch" href="/assets/js/6.8aee5ed2.js"><link rel="prefetch" href="/assets/js/7.f9eaef8b.js"><link rel="prefetch" href="/assets/js/8.50c8f784.js"><link rel="prefetch" href="/assets/js/9.04cdea3a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6e91ce7d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-130b300a><div data-v-130b300a><div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-130b300a data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>littleSix的学习笔记</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>好好学习 天天向上</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
            
          <!---->
          2022
        </a></span></div></div> <div class="hide" data-v-130b300a><header class="navbar" data-v-130b300a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">littleSix的学习笔记</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/html/" class="nav-link"><i class="undefined"></i>
  html
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      css
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/css/first/" class="nav-link"><i class="undefined"></i>
  第一则
</a></li><li class="dropdown-item"><!----> <a href="/css/second/" class="nav-link"><i class="undefined"></i>
  第二则
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      JavaScript
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JavaScript/first/" class="nav-link"><i class="undefined"></i>
  第一则
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/dom/" class="nav-link"><i class="undefined"></i>
  dom
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/second/" class="nav-link"><i class="undefined"></i>
  第二则
</a></li></ul></div></div><div class="nav-item"><a href="/node/" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  node.js
</a></div><div class="nav-item"><a href="/webpack/" class="nav-link"><i class="undefined"></i>
  webpack
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      vue
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue/vite/" class="nav-link"><i class="undefined"></i>
  vite笔记
</a></li><li class="dropdown-item"><h4>项目笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vue/project/mail/" class="nav-link"><i class="undefined"></i>
  尚商城笔记
</a></li><li class="dropdown-subitem"><a href="/vue/project/zqu/" class="nav-link"><i class="undefined"></i>
  zqu笔记
</a></li></ul></li><li class="dropdown-item"><h4>vue笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vue/vue/first/" class="nav-link"><i class="undefined"></i>
  第一则
</a></li><li class="dropdown-subitem"><a href="/vue/vue/second/" class="nav-link"><i class="undefined"></i>
  第二则
</a></li><li class="dropdown-subitem"><a href="/vue/vue/vue3/" class="nav-link"><i class="undefined"></i>
  vue3笔记
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      工具箱
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>在线编辑</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  图片压缩
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>网页设计</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cccreate.co/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  美化合集
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://fffuel.co/cccolor/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  cccolor
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-130b300a></div> <aside class="sidebar" data-v-130b300a><div class="personal-info-wrapper" data-v-39576ba9 data-v-130b300a><img src="/img/avatar.jpg" alt="author-avatar" class="personal-img" data-v-39576ba9> <!----> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>14</h3> <h6 data-v-39576ba9>文章</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>13</h3> <h6 data-v-39576ba9>标签</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/html/" class="nav-link"><i class="undefined"></i>
  html
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      css
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/css/first/" class="nav-link"><i class="undefined"></i>
  第一则
</a></li><li class="dropdown-item"><!----> <a href="/css/second/" class="nav-link"><i class="undefined"></i>
  第二则
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      JavaScript
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JavaScript/first/" class="nav-link"><i class="undefined"></i>
  第一则
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/dom/" class="nav-link"><i class="undefined"></i>
  dom
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/second/" class="nav-link"><i class="undefined"></i>
  第二则
</a></li></ul></div></div><div class="nav-item"><a href="/node/" aria-current="page" class="nav-link router-link-exact-active router-link-active"><i class="undefined"></i>
  node.js
</a></div><div class="nav-item"><a href="/webpack/" class="nav-link"><i class="undefined"></i>
  webpack
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      vue
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue/vite/" class="nav-link"><i class="undefined"></i>
  vite笔记
</a></li><li class="dropdown-item"><h4>项目笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vue/project/mail/" class="nav-link"><i class="undefined"></i>
  尚商城笔记
</a></li><li class="dropdown-subitem"><a href="/vue/project/zqu/" class="nav-link"><i class="undefined"></i>
  zqu笔记
</a></li></ul></li><li class="dropdown-item"><h4>vue笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vue/vue/first/" class="nav-link"><i class="undefined"></i>
  第一则
</a></li><li class="dropdown-subitem"><a href="/vue/vue/second/" class="nav-link"><i class="undefined"></i>
  第二则
</a></li><li class="dropdown-subitem"><a href="/vue/vue/vue3/" class="nav-link"><i class="undefined"></i>
  vue3笔记
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      工具箱
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>在线编辑</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://tinypng.com/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  图片压缩
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li><li class="dropdown-item"><h4>网页设计</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://cccreate.co/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  美化合集
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://fffuel.co/cccolor/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  cccolor
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>node笔记</h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
            
          <!---->
          2022
        </a></span></div></div> <div data-v-130b300a><main class="page"><section><div class="page-title"><h1 class="title">node笔记</h1> <div data-v-f875f3fc><!----> <i class="iconfont reco-date" data-v-f875f3fc><span data-v-f875f3fc>2021/6/14</span></i> <!----> <i class="tags iconfont reco-tag" data-v-f875f3fc><span class="tag-item" data-v-f875f3fc>Javascript</span><span class="tag-item" data-v-f875f3fc>node.js</span><span class="tag-item" data-v-f875f3fc>web</span></i></div></div> <div class="theme-reco-content content__default"><h1 id="node笔记"><a href="#node笔记" class="header-anchor">#</a> node笔记</h1> <ul><li><p>node如何运行多个文件（默认只能运行一个）</p> <ul><li><p>解决方法：在一个文件中使用require，如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//此为a.js</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'b.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//通过a.js调用b.js，就相当于能执行两个文件了</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul></li></ul> <h2 id="关于代码无分号"><a href="#关于代码无分号" class="header-anchor">#</a> 关于代码无分号</h2> <p>js代码后可以不加分号，</p> <p>==<strong>除了</strong>==</p> <ol><li><code>()</code>==开头==</li> <li><code>[]</code>==开头==</li> <li>``开头`</li></ol> <p>要在这些符号的前面加上 ; 号，如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello world'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// TypeError: say(...) is not a function</span>
<span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 2.[</span>
<span class="token punctuation">;</span><span class="token punctuation">[</span><span class="token string">'苹果'</span><span class="token punctuation">,</span> <span class="token string">'香蕉'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>
<span class="token punctuation">;</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">hello</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="node模块作用域-也称为文件作用域"><a href="#node模块作用域-也称为文件作用域" class="header-anchor">#</a> node模块作用域（也称为文件作用域）</h2> <p>不同模块之间的变量是互不影响的，不会污染其它文件。按照代码块理解应该也可以</p> <h2 id="服务端渲染和客户端渲染的区别"><a href="#服务端渲染和客户端渲染的区别" class="header-anchor">#</a> 服务端渲染和客户端渲染的区别</h2> <p>整个页面刷新，白屏后一瞬就显示所有内容的，就是<strong>服务端渲染</strong></p> <p>先有一部分框架，再逐个加载内容的就是<strong>客户端渲染</strong></p> <ol><li>客户端渲染不利于SEO（搜索引擎优化）</li> <li>服务端渲染可以被爬虫抓取到的，客户端渲染很难被爬虫抓取到</li> <li>因此，真正的网站既不是纯异步，也不是纯服务端渲染出来的，而是两者结合来做的。如：京东的商品列表是服务端渲染(存疑？)，为了SEO搜索引擎能优化。而商品评论为了用户体验，不需要SEO优化，所以采用客户端渲染</li></ol> <h2 id="关于浏览器的静态资源请求"><a href="#关于浏览器的静态资源请求" class="header-anchor">#</a> 关于浏览器的静态资源请求</h2> <p>当浏览器收到HTML响应内容之后，就要开始从上到下一次解析</p> <p>当在解析的过程中，如果发现：</p> <ul><li>link</li> <li>script</li> <li>img</li> <li>iframe</li> <li>video</li> <li>audio</li></ul> <p>等带有src或者href(link)属性标签的时候，浏览器会自动对这些资源发起新的请求</p> <p><strong>因此</strong>，配置后端的if(url === './')的时候要注意这些静态资源的请求，也要加上去</p> <h2 id="工程目录方面"><a href="#工程目录方面" class="header-anchor">#</a> 工程目录方面</h2> <ul><li>views文件夹，意为视图，用于存放各个html页面</li> <li>public文件夹，为了方便统一处理静态资源<img src="/img/typora/image-20210713211714726.png" alt="image-20210713211714726"></li></ul> <h2 id="关于服务端中的路径"><a href="#关于服务端中的路径" class="header-anchor">#</a> 关于服务端中的路径</h2> <p><strong>注意</strong>：在服务端中，文件中的路径就不要去写相对路径了，因为这个时候所有的资源都是通过url标识来获取的。我的服务器开放了<code>/public</code>目录，所以这里的请求路径都写成：<code>/public/xxx</code>。如：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/public/lib/bootstrap/dist/css/bootstrap.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>==/==在这里就是url根路径的意思，浏览器真正发请求的时候会自动把http://127.0.0.1:端口号拼上，不要再想文件路径了，把所有的路径都想象成==url==</p> <h3 id="如何让模块与模块之间通信"><a href="#如何让模块与模块之间通信" class="header-anchor">#</a> 如何让模块与模块之间通信</h3> <p>使用exports.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//a.js</span>
<span class="token keyword">var</span> ret <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./b'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//b.js</span>
<span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token string">'bbb'</span><span class="token punctuation">;</span>
exports<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>exports是==对象==！require()返回的就是exports对象！！！！！！！！！！！</p> <p><strong>注意：<strong>b.js中的exports本质上和a.js中的ret是相同的，默认情况下exports为</strong>空对象</strong></p> <h2 id="ip地址和端口号"><a href="#ip地址和端口号" class="header-anchor">#</a> ip地址和端口号</h2> <ul><li>ip地址用来定位计算机</li> <li>端口号用来定位具体的应用程序
<ul><li>所有具有联网通信的软件都必须有端口号</li> <li>端口号范围从0-65536之间</li> <li>在计算机中有一些默认端口号最好不要去使用
<ul><li>例如http服务的80</li></ul></li></ul></li></ul> <img src="/img/typora/image-20210618193057436.png" alt="image-20210618193057436" style="zoom:67%;"> <h2 id="关于require-exports-和-import-export-的区别"><a href="#关于require-exports-和-import-export-的区别" class="header-anchor">#</a> 关于require/exports 和 import/export 的区别</h2> <ol><li>require/exports 是 CommonJS 的标准， 适用范围如：Node.js</li> <li>import/export 是 ES6 的标准，使用范围如：React、Vue</li></ol> <p>详情看<a href="https://www.cnblogs.com/xjnotxj/p/7441080.html" target="_blank" rel="noopener noreferrer">require/exports 和 import/export 区别 - 小蒋不素小蒋 - 博客园 (cnblogs.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="以前表单是怎么提交的"><a href="#以前表单是怎么提交的" class="header-anchor">#</a> 以前表单是怎么提交的</h2> <ol><li><p>表单中需要提交的表单控件元素必须具有name属性</p> <ul><li><p>如：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li> <li><p>表单提交分为：</p> <ul><li><p>默认的提交行为</p> <ul><li><p>如：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>get<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>action就是表单提交的地址，说白了就是请求的 <strong>url</strong> 地址。</p></li> <li><p>get方法就是数据放到url中，post方法就是数据放到请求体中</p></li></ul></li> <li><p>表单异步提交</p></li></ul></li></ol> <p>get方法把数据放到url中，那么如何从这一串url中获得其中提交的数据呢(也就是 ? 后的数据， 即<strong>查询字符串</strong>)</p> <p><strong>解决方法</strong>：==引入url模块==</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'url'</span><span class="token punctuation">)</span>

<span class="token comment">//url.parse()方法将路径解析为一个方便操作的对象，第二个参数为true表示直接将查询字符串转为一个对象(通过query属性来访问)</span>
<span class="token keyword">var</span> parseObj <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'/pinglun?name=善良的覅就&amp;message=类似地方'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>parseObj<span class="token punctuation">.</span>query<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//获取提交的name</span>

<span class="token comment">//单独获取不包含查询字符串的路径部分（该路径不包含 ? 之后的内容）</span>
<span class="token keyword">var</span> pathname <span class="token operator">=</span> parseObj<span class="token punctuation">.</span>pathname<span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="如何通过服务端让客户端重定向"><a href="#如何通过服务端让客户端重定向" class="header-anchor">#</a> 如何通过服务端让客户端重定向</h2> <p>其实就是页面自动跳转</p> <ol><li><p>状态码设置为 <strong>302</strong> 临时重定向</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>response<span class="token punctuation">.</span>statusCode <span class="token operator">=</span> <span class="token number">302</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>在响应头中通过Location告诉客户端往哪儿重定向，如果客户端发现收到服务器的响应的状态码是 <strong>302</strong> 就会自动去响应头中找 Location 然后对该地址发起新的请求。所以你就能看到客户端自动跳转了。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Location'</span><span class="token punctuation">,</span> <span class="token string">'/'</span><span class="token punctuation">)</span>
<span class="token comment">//注意：此处'/'是根路径的意思</span>
response<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//因为没有响应数据，所以end()里为空</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ol> <h2 id="关于软件版本号"><a href="#关于软件版本号" class="header-anchor">#</a> 关于软件版本号</h2> <p><code>x.x.x</code></p> <ul><li>开头的是大版本更新，新增了很多功能，甚至去除了某些功能</li> <li>中间的是新功能更新，</li> <li>最后的是修bug，性能提升</li></ul> <h2 id="node-js是什么"><a href="#node-js是什么" class="header-anchor">#</a> node.js是什么</h2> <p>Node.js是一个<strong>javascript运行时环境</strong>， <strong>不是</strong>语言、库、框架</p> <p>简单点来讲，就是node.js可以<strong>解析</strong>和<strong>执行</strong>JavaScript代码</p> <p>也就是说可以让JavaScript<strong>脱离浏览器</strong>执行</p> <h2 id="浏览器中的javascript"><a href="#浏览器中的javascript" class="header-anchor">#</a> 浏览器中的JavaScript</h2> <ul><li>ECMAscript</li> <li>DOM</li> <li>BOM</li></ul> <h2 id="node-js中的javascript"><a href="#node-js中的javascript" class="header-anchor">#</a> node.js中的JavaScript</h2> <ul><li><strong>没有DOM、BOM</strong></li> <li>ECMAscript</li> <li>在node这个执行环境中为JavaScript提供了服务器级别的操作api
<ul><li>文件读写</li> <li>网络服务的构建</li> <li>网络通信</li> <li>http服务器</li> <li>等等...</li></ul></li> <li>Node.js的作者把v8引擎移植了出来，开发了一个独立的JavaScript运行时环境。</li></ul> <h2 id="如何用node执行js文件"><a href="#如何用node执行js文件" class="header-anchor">#</a> 如何用node执行js文件</h2> <ol><li><p>控制台cd到对应目录</p></li> <li><p>在控制台中输入<strong>node xxx.js</strong>  即可</p> <p>​	注意：文件名不要使用<code>node.js</code>来命名,最好也不要使用中文</p></li></ol> <h2 id="在node中模块有3种"><a href="#在node中模块有3种" class="header-anchor">#</a> 在node中模块有3种</h2> <ol><li><p><strong>核心模块</strong>，如：fs,http</p></li> <li><p>用户自己编写的文件模块，即<strong>自定义模块</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./b.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>全局模块（全局对象）</p> <ol><li>何时何地都能使用，不需要引用</li></ol></li></ol> <h2 id="核心模块"><a href="#核心模块" class="header-anchor">#</a> 核心模块</h2> <p>以后如果说到<strong>核心模块</strong>，就要马上想到如果要使用它，必须</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//加载模块</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="如何用node操作文件"><a href="#如何用node操作文件" class="header-anchor">#</a> 如何用node操作文件</h3> <ul><li>浏览器中的JavaScript是没有文件操作能力的</li> <li>Node中<strong>有</strong>操作文件的能力</li></ul> <h4 id="fs-file-system-文件系统"><a href="#fs-file-system-文件系统" class="header-anchor">#</a> fs（file-system）文件系统</h4> <p><strong>文件操作的所有api都是异步的</strong></p> <ol><li><p>使用require方法加载fs核心模块</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol> <h4 id="读取文件"><a href="#读取文件" class="header-anchor">#</a> 读取文件</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//第一个参数是要读取的文件路径</span>
<span class="token comment">//第二个参数是回调函数,回调函数有两个参数：error和data</span>
<span class="token comment">//读取成功时：error为null， data为数据</span>
<span class="token comment">//读取失败时：error为错误对象，data为null</span>
fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'./hello.txt'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//注意：直接输出的是十六进制</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//这才输出正常的</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li><p>还有中间的一个参数，可写可不写。如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'./db.json'</span><span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'Server error.'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//第二个参数'utf8'意思是：告诉他把读取到的文件数据直接按照utf-8编码转成我们能认识的字符</span>
<span class="token comment">//除了这样来转换之外，也可以通过：data.toString()的方式</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul> <p><strong>注意：输出的data要转化<code>console.log(data.toString())</code>，不然默认会输出十六进制</strong></p> <h4 id="写文件"><a href="#写文件" class="header-anchor">#</a> 写文件</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//第一个参数：文件路径</span>
<span class="token comment">//第二个参数：文件内容</span>
<span class="token comment">//第三个参数：回调函数，有1个参数</span>
<span class="token comment">//成功：文件写入成功，error是null</span>
<span class="token comment">//失败：文件写入失败，error是错误对象</span>
fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token string">'./helloo.txt'</span><span class="token punctuation">,</span> <span class="token string">'大家好，我是node.js'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'文件写入成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>注意：若文件不存在则自动创建文件，若文件存在则会==覆盖==原文件</strong></p> <h4 id="fs-readdir"><a href="#fs-readdir" class="header-anchor">#</a> <code>fs.readdir()</code></h4> <p>用于读取当前文件的目录。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>fs<span class="token punctuation">.</span><span class="token function">readdir</span><span class="token punctuation">(</span><span class="token string">'D:/文档/前端/node.js/practise'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> files</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>files<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="http-构建服务器"><a href="#http-构建服务器" class="header-anchor">#</a> http(构建服务器)</h3> <ul><li><p><strong>可以同时开多个服务</strong>，只需要打开多个黑框框然后各自执行就行了，但要确保不同服务占用的<strong>端口号不同</strong></p></li> <li><p>一个请求对应一个响应，如果在一个请求的过程中已经结束响应了，则不能重复发送响应。</p></li> <li><p>没有请求就没有响应</p></li></ul> <ol><li>加载http核心模块</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> http <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li><p>创建http服务器</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> server <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>注册request请求事件</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//当客户端请求过来，会自动触发服务器的request请求事件，然后执行回调函数</span>
server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'request'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;收到客户端的请求!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>绑定端口号，启动服务器</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;服务器启动成功， 可以通过’http://127.0.0.1:3000/‘ 来进行访问&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ol> <h3 id="注册request请求事件-初步"><a href="#注册request请求事件-初步" class="header-anchor">#</a> 注册request请求事件(初步)</h3> <p>request请求事件处理函数，需要接收两个参数：</p> <ol><li><strong>request 请求对象</strong>可以用来获取客户端的一些请求信息，例如请求路径(<code>request.url</code>)
<ul><li>**注意：**获取的request.url是从端口号后开始的，如：http://127.0.0.1/1/2/3，获取到的是：/1/2/3</li></ul></li> <li><strong>response 响应对象</strong>可以用来给客户端发送响应信息
<ul><li><code>response.write()</code>可以使用多次，但是最后一定要用<strong>response.end()来结束响应</strong>，否则客户端会一直等待</li> <li>代码执行时，<code>response.end()</code>只能被执行<strong>一次</strong>，否则会报错(?)</li></ul></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>server<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'request'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'收到客户端的请求了，请求路径是：'</span> <span class="token operator">+</span> resquest<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    response<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">'bye'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>==<strong>注意：<strong>相应内容只能是</strong>字符串</strong>或<strong>二进制数字</strong>==</p> <p>解决方法：</p> <ul><li><p>使用JSON中的方法。具体看这个吧：<a href="https://www.runoob.com/json/json-tutorial.html" target="_blank" rel="noopener noreferrer">JSON 教程 | 菜鸟教程 (runoob.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>response<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>products<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <h3 id="中文出现乱码怎么办"><a href="#中文出现乱码怎么办" class="header-anchor">#</a> 中文出现乱码怎么办？</h3> <p>加上这句话即可</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>response<span class="token punctuation">.</span><span class="token function">writeHead</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string-property property">'Content-Type'</span><span class="token operator">:</span><span class="token string">'text/html;charset=utf-8'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//或者</span>
response<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">'Content-Type'</span><span class="token punctuation">,</span> <span class="token string">'text/html;charset=utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="content-type"><a href="#content-type" class="header-anchor">#</a> Content-Type</h4> <p>在http协议中，<code>Content-Type</code>就是用来告知对方我给你发送的是什么类型</p> <p><strong>有多少种Content-Type：</strong><a href="https://www.runoob.com/http/http-content-type.html" target="_blank" rel="noopener noreferrer">HTTP content-type | 菜鸟教程 (runoob.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>==<strong>注意：</strong>==图片是不需要编码的(即：charset=utf-8)，传了反而会有问题(?)</p> <h4 id="content-type-中-text-html和text-plain的区别"><a href="#content-type-中-text-html和text-plain的区别" class="header-anchor">#</a> 'Content-Type'中，text/html和text/plain的区别</h4> <p>若为text/html，则响应式是会识别html标签的，如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>response<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token string">'&lt;h1&gt;我是一级标题&lt;/h1&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//输出结果为：html中的一级标题</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>若为text/plain，plain有朴素的意思，即直接把所有内容识别为字符串</p> <p><strong>问题出现原因：</strong></p> <ul><li>在服务端默认发送的数据，其实是utf-8编码的内容</li> <li>但是浏览器不知道你是utf8编码的内容</li> <li>浏览器在不知道服务器相应内容的编码的情况下会按照当前系统的默认编码去解析</li> <li>中文操作系统默认是gbk</li></ul> <h2 id="art-template模板引擎"><a href="#art-template模板引擎" class="header-anchor">#</a> art-template模板引擎</h2> <p><strong>安装</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install art-template --save
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>用法</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//在js文件中</span>
<span class="token keyword">var</span> template <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'art-template'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'./tpl.html'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'读取文件失败'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    data <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> ret <span class="token operator">=</span> template<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Jack'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Docment'</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
    
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!--在tpl.html文件中!--&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>{{title}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>我叫{{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>我今年{{age}}岁<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><strong>注意</strong>：{{}}的作用范围不单单是html代码，js代码也会受作用。如：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!--在html文件中!--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'{{name}}'</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
//注意：即使是字符串，{{}}里的内容也会被替换，这也是模板引擎 不关心内容 的体现
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>**==注意：==**这个其实算服务端渲染，即直接返回html代码给浏览器</p> <h2 id="关于url编码"><a href="#关于url编码" class="header-anchor">#</a> 关于url编码</h2> <img src="/img/typora/image-20210724210113687.png" alt="image-20210724210113687" style="zoom:80%;"> <p>百度搜索链接内的中文会转换成url编码，此反映到url上(就是图中选中的区域)</p> <p>**==注意：==**网址上有中文的，这个中文属于查询字符串，不属于网址路径。如：<img src="/img/typora/image-20210724212840146.png" alt="image-20210724212840146"></p> <p>具体看：<a href="http://www.ruanyifeng.com/blog/2010/02/url_encoding.html" target="_blank" rel="noopener noreferrer">关于URL编码 - 阮一峰的网络日志 (ruanyifeng.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>关于url的加密解密，可以用js函数
<ul><li><code>encodeURI(&quot;&quot;)和encodeURIComponent(&quot;&quot;)</code></li> <li><code>decodeURI(&quot;&quot;)和decodeURIComponent(&quot;&quot;)</code></li></ul></li></ul> <h2 id="express"><a href="#express" class="header-anchor">#</a> Express</h2> <h3 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h3> <ol><li>需要先安装Node.js</li> <li><code>npm init</code>，使用这个能生成package.json文件</li> <li><code>npm install express --save</code></li></ol> <p><strong>注意</strong>：用express不用手动设置<code>response.writeHeader('Content-Type', 'text/html;charset=utf-8')</code>，express已经帮我们弄好了</p> <h3 id="express基本感知"><a href="#express基本感知" class="header-anchor">#</a> Express基本感知</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//1.引入express</span>
<span class="token keyword">let</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>

<span class="token comment">//2.创建你的服务器应用程序，也就是原来的http.createServer()</span>
<span class="token keyword">var</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">//当服务器收到get请求 / 的时候，执行回调函数</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'hello express!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/about'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    response<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'你好我是/about'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//公开指定目录，只要这样做了就可以直接通过/public/xx的方式访问public目录的所有资源了</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/public'</span><span class="token punctuation">,</span> express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">'./public'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'app is running at port 3000'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><strong>注意</strong>：<code>app.get</code>也可以链式调用，因为get方法返回的也是app，如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app
    <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/about'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="express获取查询字符串参数"><a href="#express获取查询字符串参数" class="header-anchor">#</a> express获取查询字符串参数</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>resquest<span class="token punctuation">.</span>query
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>**==注意：==**resquest.query只能获取get请求的参数</p> <h3 id="express获取表单post请求体数据"><a href="#express获取表单post请求体数据" class="header-anchor">#</a> express获取表单post请求体数据</h3> <p>使用一个第三方包：<code>body-parser</code>（<strong>==这种方式已经弃用！！！！！！！==</strong>）</p> <ol><li><p>安装</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> --save body-parser
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>配置</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//1. 引包</span>
<span class="token keyword">let</span> bodyParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'body-parser'</span><span class="token punctuation">)</span>
<span class="token comment">//2. 配置body-parser</span>
<span class="token comment">//只要加入这个配置，request对象上会多出来一个属性：body</span>
<span class="token comment">//只需要直接request.body就可以获得表单post请求的数据了</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">extended</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    response<span class="token punctuation">.</span>body<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li></ol> <p>==<strong>新增加了express自带的方式</strong>==</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">urlencoded</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">extended</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>然后用的时候直接：<code>response.body</code>即可</p> <h2 id="修改完后台代码自动重启服务器"><a href="#修改完后台代码自动重启服务器" class="header-anchor">#</a> 修改完后台代码自动重启服务器</h2> <p>使用第三方命令行工具：<code>nodemon</code></p> <p>使用前需要独立安装：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install --global nodemon
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>==--global==表示全局安装</p> <ul><li><p>使用方法：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>在命令行中：nodemon app.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <h2 id="app-use"><a href="#app-use" class="header-anchor">#</a> <code>app.use()</code></h2> <p>可以允许直接通过url访问某个文件夹中的所有文件， 如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/public'</span><span class="token punctuation">,</span> express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">'./public'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>假如public文件夹里有main.js这个文件。这样的话，直接在url中：<code>http://127.0.0.1/public/main.js</code>就可以在浏览器中直接访问这个文件</p> <ul><li><p>假如app.use()第一个参数不写，即：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">'./public'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这样的话在url中就不用写/public了，即<code>http://127.0.0.1/main.js</code>就可以直接浏览器访问main.js文件。加上public，如：<code>http://127.0.0.1/public/main.js</code>反而<strong>会错</strong></p></li> <li><p>第一个参数也可以写其它的，如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/a'</span><span class="token punctuation">,</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">'./public'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这样相当于给 ./public <strong>起别名</strong>。但是<strong>需要注意</strong>：起别名后，原名就不能用了，即<code>http://127.0.0.1:3000/public/js/main.js</code>不能用了，要改为：<code>http://127.0.0.1/a/js/main.js</code></p></li></ul> <h2 id="在express中使用art-template引擎"><a href="#在express中使用art-template引擎" class="header-anchor">#</a> 在express中使用<code>art-template</code>引擎</h2> <ol><li><p>先安装art-template再安装express-art-template，两个都要安装，因为express-art-template依赖了art-template</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> art-template --save
<span class="token function">npm</span> <span class="token function">install</span> express-art-template --save
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>配置使用express-art-template</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">engine</span><span class="token punctuation">(</span><span class="token string">'art'</span><span class="token punctuation">,</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express-art-template'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//注意：这里'art'也可以写'html'，编写文件时记得对应后缀就行</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>第一个参数：'art'，表示当渲染以 .art 结尾的文件时，使用art-template模板引擎</li></ul></li> <li><p>使用：</p></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/index'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    response<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'index.html'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'jjp'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">17</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-html line-numbers-mode"><pre class="language-html"><code>//index.html文件中
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>{{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="response-render"><a href="#response-render" class="header-anchor">#</a> <code>response.render()</code></h3> <p>express为response提供了一个方法：render</p> <p>render方法默认是不能使用的，但如果配置了模板引擎就能使用，如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>response<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'html模板名'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>模板数据<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><p>第一个参数不能写路径，默认会去项目中的 <strong>==views==</strong> 目录查找模板文件</p> <ul><li><p>也就是说express有一个约定：开发人员把所有的视图文件都放到 <strong>views</strong> 文件夹中</p></li> <li><p>如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    response<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'404.art'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'管理系统'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'jjp'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//注意：404.art其实就是html文件把后缀改为.art</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul></li> <li><p>如果需要把默认寻找的 <strong>views</strong> 路径改掉，需要用到<code>app.set()</code>，如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'views'</span><span class="token punctuation">,</span> render函数的默认路径<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>第一个参数为 <code>'views'</code>固定的，不能修改</li> <li>第二个参数为你想要把默认路径改为什么</li></ul></li></ul> <h2 id="在一个html中引入另一个html"><a href="#在一个html中引入另一个html" class="header-anchor">#</a> 在一个html中引入另一个html</h2> <div class="language-html line-numbers-mode"><pre class="language-html"><code>//index.html中
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>zh-cmn-hans<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>123<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    {{include './header.html'}}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{{ name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="language-html line-numbers-mode"><pre class="language-html"><code>//header.html中
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>
        公共的头部
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li><p><strong>使用</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span><span class="token punctuation">{</span>include <span class="token string">'./header.html'</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>即可把其它html文件引入当前html文件中</strong></p></li></ul> <h2 id="art-template中类似插槽的用法"><a href="#art-template中类似插槽的用法" class="header-anchor">#</a> art-template中类似插槽的用法</h2> <div class="language-html line-numbers-mode"><pre class="language-html"><code>//layout.html，layout是布局的意思，该文件用于固定网页的布局
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>zh-cmn-hans<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>123<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    {{include './header.html'}}
    {{block 'content'}}
    	<span class="token comment">&lt;!--留一个坑，给孩子填坑--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>默认内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    {{/block}}
    {{include './footer.html'}}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><div class="language-html line-numbers-mode"><pre class="language-html"><code>//index.html
{{extend './layout.html'}}

{{block 'content'}}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>index页面填坑内容<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
{{/block}}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span><span class="token punctuation">{</span>extend <span class="token string">'./layout.html'</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>，意思是继承layout.html这个文件</p></li> <li><p>layout.html中</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span><span class="token punctuation">{</span>block <span class="token string">'content'</span><span class="token punctuation">}</span><span class="token punctuation">}</span>默认内容<span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token operator">/</span>block<span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>其实就是插槽</p> <ul><li><p>要往里面插东西的话，只需要同样</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span><span class="token punctuation">{</span>block <span class="token string">'content'</span><span class="token punctuation">}</span><span class="token punctuation">}</span>往插槽添加的内容<span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token operator">/</span>block<span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul></li></ul> <h2 id="相同的路径可以存在多个-只要请求类型不同就行了"><a href="#相同的路径可以存在多个-只要请求类型不同就行了" class="header-anchor">#</a> 相同的路径可以存在多个，只要请求类型不同就行了</h2> <p>如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/pinglun'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/pinglun'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>会自动根据不同的请求类型来执行不同的响应</p> <h2 id="进行url重定向response-redirect"><a href="#进行url重定向response-redirect" class="header-anchor">#</a> 进行url重定向<code>response.redirect()</code></h2> <p>如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>response<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">'/index'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="response-status-xxx-返回状态码"><a href="#response-status-xxx-返回状态码" class="header-anchor">#</a> <code>response.status(xxx)</code>返回状态码</h3> <p>如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'./db.json'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'Server error.'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="url重定向"><a href="#url重定向" class="header-anchor">#</a> url重定向</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code>response<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">'/index'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="curd"><a href="#curd" class="header-anchor">#</a> curd</h2> <h3 id="读取json文件并返回其中的内容"><a href="#读取json文件并返回其中的内容" class="header-anchor">#</a> 读取json文件并返回其中的内容</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//app.js</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'./db.json'</span><span class="token punctuation">,</span> <span class="token string">'utf-8'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'Server error.'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        response<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'index.html'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">fruits</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token string">'苹果'</span><span class="token punctuation">,</span>
                <span class="token string">'香蕉'</span><span class="token punctuation">,</span>
                <span class="token string">'橘子'</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">students</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span>students
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">//db.json</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;students&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;gender&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token property">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token property">&quot;hobbies&quot;</span><span class="token operator">:</span> <span class="token string">&quot;吃饭、睡觉、lol&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;gender&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token property">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token property">&quot;hobbies&quot;</span><span class="token operator">:</span> <span class="token string">&quot;吃饭、睡觉、lol&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;gender&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token property">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token property">&quot;hobbies&quot;</span><span class="token operator">:</span> <span class="token string">&quot;吃饭、睡觉、lol&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;gender&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token property">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token property">&quot;hobbies&quot;</span><span class="token operator">:</span> <span class="token string">&quot;吃饭、睡觉、lol&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;gender&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token property">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token property">&quot;hobbies&quot;</span><span class="token operator">:</span> <span class="token string">&quot;吃饭、睡觉、lol&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;gender&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token property">&quot;age&quot;</span><span class="token operator">:</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token property">&quot;hobbies&quot;</span><span class="token operator">:</span> <span class="token string">&quot;吃饭、睡觉、lol&quot;</span><span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="curd路由设计"><a href="#curd路由设计" class="header-anchor">#</a> curd路由设计</h3> <p>一般配置路由不写在app.js里面，因为担心app.js太臃肿了。另起文件叫 router.js</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//router.js</span>
<span class="token keyword">let</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> router <span class="token operator">=</span> express<span class="token punctuation">.</span><span class="token function">Router</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//导入Router模块</span>

router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/students'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/students'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/students/new'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
router<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/students/new'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> router<span class="token comment">//导出此文件</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//app.js</span>
<span class="token keyword">let</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> router <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./router'</span><span class="token punctuation">)</span><span class="token comment">//导入router.js文件</span>

app<span class="token punctuation">.</span><span class="token function">engine</span><span class="token punctuation">(</span><span class="token string">'html'</span><span class="token punctuation">,</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express-art-template'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/node_modules'</span><span class="token punctuation">,</span> express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">'./node_modules'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/public'</span><span class="token punctuation">,</span> express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">'./public'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">//把路由挂载到 app 服务中</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;server is running at port 3000&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="从表单-即input-通过post和get-自动获取的value会把数据类型转化为字符串"><a href="#从表单-即input-通过post和get-自动获取的value会把数据类型转化为字符串" class="header-anchor">#</a> 从表单(即input)通过post和get，自动获取的value会把数据类型转化为字符串？？？？</h3> <p>即<code>request.query.id</code>，在html表单中(即input中)，type是number的。但<code>request.query.id</code>或<code>request.body</code>获取后，数据类型会变为字符串类型。</p> <h3 id="读文件-json-parse-data-后数据类型会还原"><a href="#读文件-json-parse-data-后数据类型会还原" class="header-anchor">#</a> 读文件，<code>JSON.parse(data)</code>后数据类型会还原</h3> <p>即原来是number转为JSON的，，从JSON转为对象后仍然是number，，并不会不讲理地变成字符串</p> <h3 id="package-json和package-lock-json文件的作用"><a href="#package-json和package-lock-json文件的作用" class="header-anchor">#</a> package.json和package-lock.json文件的作用</h3> <p>npm5以前是不会有<code>package-lock.json</code>文件的</p> <ul><li>package.json里的&quot;dependencies&quot;保存了当前包所需要的依赖。</li> <li>package-lock.json里的&quot;dependencies&quot;保存了<strong>该项目所有</strong>的包所需要的依赖，可以说是项目中所有package.json里的dependencies加起来之和
<ul><li>其中的&quot;resolved&quot;其实就是这个依赖的下载地址</li></ul></li></ul> <p><code>package-lock.json</code>会保留<code>node_modules</code>中所有包的信息（版本、下载地址），这样的话<code>npm install</code>的时候速度就可以提升</p> <p>如果没有package-lock.json的话，重新<code>npm install</code>，下载的包的版本会是最新的，也就是没有锁版本。使用最新的版本反而可能会带来与该项目的兼容性问题。</p> <p>有package-lock.json的话，重新<code>npm install</code>就能锁定某个版本</p> <p><strong>tip</strong>：因此，在<code>package.json</code>看包的版本是不准确的，实际的版本可能会在此之上。要看准确版本的话，要到<code>package-lock.json</code>中看</p> <h3 id="利用express如何设定404页面"><a href="#利用express如何设定404页面" class="header-anchor">#</a> 利用express如何设定404页面</h3> <p><code>app.use()</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//所有未处理的请求路径都会跑到这里</span>
    <span class="token comment">//404</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">//万能匹配</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/a'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//若请求路径为/a开头的，就会自动进来这里</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>存在多个app.use的情况下，前一个app.use需要用<code>next()</code>才能解除控制，让下一个<code>app.use</code>也能执行</li> <li>app.use是按照顺序检索的，为了避免所有页面被404页面覆盖，需要将渲染404页面的<code>app.use</code>放到==最后==</li></ul> <h2 id="使用mssq连接sql-server数据库"><a href="#使用mssq连接sql-server数据库" class="header-anchor">#</a> 使用mssq连接sql server数据库</h2> <ol><li><p>安装</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install mssql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>初步使用</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> sql <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mssql'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token string">'sa'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">password</span><span class="token operator">:</span> <span class="token string">'123'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">server</span><span class="token operator">:</span> <span class="token string">'localhost'</span><span class="token punctuation">,</span> <span class="token comment">// You can use 'localhost\\instance' to connect to named instance</span>
    <span class="token literal-property property">database</span><span class="token operator">:</span> <span class="token string">'ShiYan'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">1433</span><span class="token punctuation">,</span>
    <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">encrypt</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

sql<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> sql<span class="token punctuation">.</span>query<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">select * from spj</span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token comment">// ... error checks</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

sql<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ... error handler</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>==<strong>注意：</strong>==需要注意如果不是在Windows Azure上使用，一定要<strong>将encrypt属性设置为false</strong>（即</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>options:{encrypt: false }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>）。否则会报ESOCKET相关的错误。这里踩坑了，弄了好久！！！！！！！！！！！！！！！！！！！！！！！！！！！</p> <p>==<strong>还有！</strong>==要确保sql server配置管理器中，打开<code>sql server browser</code>，还要让管理员sa允许使用</p></li></ol> <h2 id="使用模板字符串时-遇到变量-若该变量是字符串时-一定要加引号"><a href="#使用模板字符串时-遇到变量-若该变量是字符串时-一定要加引号" class="header-anchor">#</a> 使用模板字符串时，遇到变量，若该变量是字符串时，一定要加引号！！！</h2> <p>例：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>db<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> sql<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">insert into students values(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, '</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">', </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>gender<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, '</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>hobbies<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">', </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>request<span class="token punctuation">.</span>body<span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这里的</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'${request.body.name}'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>和</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">'${request.body.hobbies}'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>他们的类型都是字符串，如果不用 <strong>=='     '==</strong> 括住，会报错：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>RequestError: Invalid column name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="如何同一配置错误信息"><a href="#如何同一配置错误信息" class="header-anchor">#</a> 如何同一配置错误信息</h2> <ol><li>配置错误信息中间件：</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>==注意==：四个形参缺一不可，而且顺序也不能乱</p> <ol start="2"><li><p>在其它中间件代码的最后写上：<code>next(error)</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token string">'./d'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">next</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token comment">//</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>==注意==：若next中有传参数（此处为error）， 则会自动跳转到含有四个参数的中间件（即第一步的那个）</p></li></ol> <h2 id="后端返回json数据"><a href="#后端返回json数据" class="header-anchor">#</a> 后端返回json数据</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code>response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;jjp&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>这样的话，可以让前端axios请求数据</p> <h2 id="token"><a href="#token" class="header-anchor">#</a> token</h2> <p>需要用到第三方：==jsonwebtoken==</p> <ol><li><div class="language-js line-numbers-mode"><pre class="language-js"><code>npm install jsonwebtoken
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>引入</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> jwt <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'jsonwebtoken'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>使用，当成功时返回token</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>jwt<span class="token punctuation">.</span><span class="token function">sign</span><span class="token punctuation">(</span><span class="token punctuation">{</span>规则<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string">&quot;加密名字&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>过期时间<span class="token punctuation">}</span><span class="token punctuation">,</span>箭头函数<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code>例子：
<span class="token keyword">const</span> rule <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> user<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
			  <span class="token literal-property property">name</span><span class="token operator">:</span> user<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
			  <span class="token punctuation">}</span>
jwt<span class="token punctuation">.</span><span class="token function">sign</span><span class="token punctuation">(</span>rule<span class="token punctuation">,</span> <span class="token string">&quot;secret&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">expiresIn</span><span class="token operator">:</span><span class="token number">3600</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> token</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token keyword">throw</span> error<span class="token punctuation">;</span>
	res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		<span class="token literal-property property">success</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token literal-property property">token</span><span class="token operator">:</span> <span class="token string">&quot;little-six&quot;</span><span class="token operator">+</span>token
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//注意：expiresIn的单位为秒</span>
<span class="token comment">//注意：箭头函数第一个参数为：error</span>
<span class="token comment">//			  第二个参数为：token</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li> <li><p>验证token是否正确</p> <ol><li><p>验证token需要用到<code>passport和passport-jwt</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>npm install passport passport<span class="token operator">-</span>jwt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>引入<code>passport</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> passport <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'passport'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>初始化</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>passport<span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/current'</span><span class="token punctuation">,</span> <span class="token string">'验证token'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		<span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'success'</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ol></div></section> <footer class="page-edit"><!----> <!----></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-2" data-v-cb1513f6><a href="/node/#关于代码无分号" class="sidebar-link reco-side-关于代码无分号" data-v-cb1513f6>关于代码无分号</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#node模块作用域-也称为文件作用域" class="sidebar-link reco-side-node模块作用域-也称为文件作用域" data-v-cb1513f6>node模块作用域（也称为文件作用域）</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#服务端渲染和客户端渲染的区别" class="sidebar-link reco-side-服务端渲染和客户端渲染的区别" data-v-cb1513f6>服务端渲染和客户端渲染的区别</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#关于浏览器的静态资源请求" class="sidebar-link reco-side-关于浏览器的静态资源请求" data-v-cb1513f6>关于浏览器的静态资源请求</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#工程目录方面" class="sidebar-link reco-side-工程目录方面" data-v-cb1513f6>工程目录方面</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#关于服务端中的路径" class="sidebar-link reco-side-关于服务端中的路径" data-v-cb1513f6>关于服务端中的路径</a></li><li class="level-3" data-v-cb1513f6><a href="/node/#如何让模块与模块之间通信" class="sidebar-link reco-side-如何让模块与模块之间通信" data-v-cb1513f6>如何让模块与模块之间通信</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#ip地址和端口号" class="sidebar-link reco-side-ip地址和端口号" data-v-cb1513f6>ip地址和端口号</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#关于require-exports-和-import-export-的区别" class="sidebar-link reco-side-关于require-exports-和-import-export-的区别" data-v-cb1513f6>关于require/exports 和 import/export 的区别</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#以前表单是怎么提交的" class="sidebar-link reco-side-以前表单是怎么提交的" data-v-cb1513f6>以前表单是怎么提交的</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#如何通过服务端让客户端重定向" class="sidebar-link reco-side-如何通过服务端让客户端重定向" data-v-cb1513f6>如何通过服务端让客户端重定向</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#关于软件版本号" class="sidebar-link reco-side-关于软件版本号" data-v-cb1513f6>关于软件版本号</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#node-js是什么" class="sidebar-link reco-side-node-js是什么" data-v-cb1513f6>node.js是什么</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#浏览器中的javascript" class="sidebar-link reco-side-浏览器中的javascript" data-v-cb1513f6>浏览器中的JavaScript</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#node-js中的javascript" class="sidebar-link reco-side-node-js中的javascript" data-v-cb1513f6>node.js中的JavaScript</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#如何用node执行js文件" class="sidebar-link reco-side-如何用node执行js文件" data-v-cb1513f6>如何用node执行js文件</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#在node中模块有3种" class="sidebar-link reco-side-在node中模块有3种" data-v-cb1513f6>在node中模块有3种</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#核心模块" class="sidebar-link reco-side-核心模块" data-v-cb1513f6>核心模块</a></li><li class="level-3" data-v-cb1513f6><a href="/node/#如何用node操作文件" class="sidebar-link reco-side-如何用node操作文件" data-v-cb1513f6>如何用node操作文件</a></li><li class="level-3" data-v-cb1513f6><a href="/node/#http-构建服务器" class="sidebar-link reco-side-http-构建服务器" data-v-cb1513f6>http(构建服务器)</a></li><li class="level-3" data-v-cb1513f6><a href="/node/#注册request请求事件-初步" class="sidebar-link reco-side-注册request请求事件-初步" data-v-cb1513f6>注册request请求事件(初步)</a></li><li class="level-3" data-v-cb1513f6><a href="/node/#中文出现乱码怎么办" class="sidebar-link reco-side-中文出现乱码怎么办" data-v-cb1513f6>中文出现乱码怎么办？</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#art-template模板引擎" class="sidebar-link reco-side-art-template模板引擎" data-v-cb1513f6>art-template模板引擎</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#关于url编码" class="sidebar-link reco-side-关于url编码" data-v-cb1513f6>关于url编码</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#express" class="sidebar-link reco-side-express" data-v-cb1513f6>Express</a></li><li class="level-3" data-v-cb1513f6><a href="/node/#安装" class="sidebar-link reco-side-安装" data-v-cb1513f6>安装</a></li><li class="level-3" data-v-cb1513f6><a href="/node/#express基本感知" class="sidebar-link reco-side-express基本感知" data-v-cb1513f6>Express基本感知</a></li><li class="level-3" data-v-cb1513f6><a href="/node/#express获取查询字符串参数" class="sidebar-link reco-side-express获取查询字符串参数" data-v-cb1513f6>express获取查询字符串参数</a></li><li class="level-3" data-v-cb1513f6><a href="/node/#express获取表单post请求体数据" class="sidebar-link reco-side-express获取表单post请求体数据" data-v-cb1513f6>express获取表单post请求体数据</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#修改完后台代码自动重启服务器" class="sidebar-link reco-side-修改完后台代码自动重启服务器" data-v-cb1513f6>修改完后台代码自动重启服务器</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#app-use" class="sidebar-link reco-side-app-use" data-v-cb1513f6>app.use()</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#在express中使用art-template引擎" class="sidebar-link reco-side-在express中使用art-template引擎" data-v-cb1513f6>在express中使用art-template引擎</a></li><li class="level-3" data-v-cb1513f6><a href="/node/#response-render" class="sidebar-link reco-side-response-render" data-v-cb1513f6>response.render()</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#在一个html中引入另一个html" class="sidebar-link reco-side-在一个html中引入另一个html" data-v-cb1513f6>在一个html中引入另一个html</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#art-template中类似插槽的用法" class="sidebar-link reco-side-art-template中类似插槽的用法" data-v-cb1513f6>art-template中类似插槽的用法</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#相同的路径可以存在多个-只要请求类型不同就行了" class="sidebar-link reco-side-相同的路径可以存在多个-只要请求类型不同就行了" data-v-cb1513f6>相同的路径可以存在多个，只要请求类型不同就行了</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#进行url重定向response-redirect" class="sidebar-link reco-side-进行url重定向response-redirect" data-v-cb1513f6>进行url重定向response.redirect()</a></li><li class="level-3" data-v-cb1513f6><a href="/node/#response-status-xxx-返回状态码" class="sidebar-link reco-side-response-status-xxx-返回状态码" data-v-cb1513f6>response.status(xxx)返回状态码</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#url重定向" class="sidebar-link reco-side-url重定向" data-v-cb1513f6>url重定向</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#curd" class="sidebar-link reco-side-curd" data-v-cb1513f6>curd</a></li><li class="level-3" data-v-cb1513f6><a href="/node/#读取json文件并返回其中的内容" class="sidebar-link reco-side-读取json文件并返回其中的内容" data-v-cb1513f6>读取json文件并返回其中的内容</a></li><li class="level-3" data-v-cb1513f6><a href="/node/#curd路由设计" class="sidebar-link reco-side-curd路由设计" data-v-cb1513f6>curd路由设计</a></li><li class="level-3" data-v-cb1513f6><a href="/node/#从表单-即input-通过post和get-自动获取的value会把数据类型转化为字符串" class="sidebar-link reco-side-从表单-即input-通过post和get-自动获取的value会把数据类型转化为字符串" data-v-cb1513f6>从表单(即input)通过post和get，自动获取的value会把数据类型转化为字符串？？？？</a></li><li class="level-3" data-v-cb1513f6><a href="/node/#读文件-json-parse-data-后数据类型会还原" class="sidebar-link reco-side-读文件-json-parse-data-后数据类型会还原" data-v-cb1513f6>读文件，JSON.parse(data)后数据类型会还原</a></li><li class="level-3" data-v-cb1513f6><a href="/node/#package-json和package-lock-json文件的作用" class="sidebar-link reco-side-package-json和package-lock-json文件的作用" data-v-cb1513f6>package.json和package-lock.json文件的作用</a></li><li class="level-3" data-v-cb1513f6><a href="/node/#利用express如何设定404页面" class="sidebar-link reco-side-利用express如何设定404页面" data-v-cb1513f6>利用express如何设定404页面</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#使用mssq连接sql-server数据库" class="sidebar-link reco-side-使用mssq连接sql-server数据库" data-v-cb1513f6>使用mssq连接sql server数据库</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#使用模板字符串时-遇到变量-若该变量是字符串时-一定要加引号" class="sidebar-link reco-side-使用模板字符串时-遇到变量-若该变量是字符串时-一定要加引号" data-v-cb1513f6>使用模板字符串时，遇到变量，若该变量是字符串时，一定要加引号！！！</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#如何同一配置错误信息" class="sidebar-link reco-side-如何同一配置错误信息" data-v-cb1513f6>如何同一配置错误信息</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#后端返回json数据" class="sidebar-link reco-side-后端返回json数据" data-v-cb1513f6>后端返回json数据</a></li><li class="level-2" data-v-cb1513f6><a href="/node/#token" class="sidebar-link reco-side-token" data-v-cb1513f6>token</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.7aac3663.js" defer></script><script src="/assets/js/3.26a17733.js" defer></script><script src="/assets/js/1.9d415b4e.js" defer></script><script src="/assets/js/17.599c5555.js" defer></script>
  </body>
</html>
